(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{596:function(s,t,a){"use strict";a.r(t);var r=a(1),n=Object(r.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"查看是否已安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看是否已安装"}},[s._v("#")]),s._v(" 查看是否已安装")]),s._v(" "),a("p",[a("code",[s._v("rpm -qa |grep vsftpd")])]),s._v(" "),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("p",[s._v("安装可以在线安装或离线安装。")]),s._v(" "),a("h3",{attrs:{id:"在线安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在线安装"}},[s._v("#")]),s._v(" 在线安装")]),s._v(" "),a("p",[s._v("通过 yum 命令即可下载 rpm 包并自动安装。")]),s._v(" "),a("p",[a("code",[s._v("yum install vsftpd -y")])]),s._v(" "),a("h3",{attrs:{id:"离线安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#离线安装"}},[s._v("#")]),s._v(" 离线安装")]),s._v(" "),a("p",[s._v("离线安装首先需要下载 ftp 安装包。下载地址为："),a("a",{attrs:{href:"http://rpmfind.net/linux/rpm2html/search.php?query=vsftpd(x86-64)",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://rpmfind.net/linux/rpm2html/search.php?query=vsftpd(x86-64)"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("我的系统是 CentOS 7，对应下载的安装包为 vsftpd-3.0.2-29.el7_9.x86_64.rpm"),a("br"),s._v("\n上传文件到服务器后，执行安装命令：\n"),a("code",[s._v("rpm -ivh vsftpd-3.0.2-21.el7.x86_64.rpm")])]),s._v(" "),a("hr"),s._v(" "),a("p",[s._v("通过【在线安装】或者【离线安装】之后，可以通过 "),a("code",[s._v("rpm -ql vsftpd")]),s._v(" 命令查看相关内容。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rpm -ql vsftpd")]),s._v("\n/etc/logrotate.d/vsftpd\n/etc/pam.d/vsftpd\n/etc/vsftpd\n/etc/vsftpd/ftpusers\n/etc/vsftpd/user_list\n/etc/vsftpd/vsftpd.conf\n/etc/vsftpd/vsftpd_conf_migrate.sh\n/usr/lib/systemd/system-generators/vsftpd-generator\n/usr/lib/systemd/system/vsftpd.service\n/usr/lib/systemd/system/vsftpd.target\n/usr/lib/systemd/system/vsftpd@.service\n/usr/sbin/vsftpd\n/usr/share/doc/vsftpd-3.0.2\n/usr/share/doc/vsftpd-3.0.2/AUDIT\n/usr/share/doc/vsftpd-3.0.2/BENCHMARKS\n/usr/share/doc/vsftpd-3.0.2/BUGS\n/usr/share/doc/vsftpd-3.0.2/COPYING\n/usr/share/doc/vsftpd-3.0.2/Changelog\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/INTERNET_SITE\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/INTERNET_SITE/README\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/INTERNET_SITE/README.configuration\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/INTERNET_SITE/vsftpd.conf\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/INTERNET_SITE/vsftpd.xinetd\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/INTERNET_SITE_NOINETD\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/INTERNET_SITE_NOINETD/README\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/INTERNET_SITE_NOINETD/README.configuration\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/INTERNET_SITE_NOINETD/vsftpd.conf\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/PER_IP_CONFIG\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/PER_IP_CONFIG/README\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/PER_IP_CONFIG/README.configuration\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/PER_IP_CONFIG/hosts.allow\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/README\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/VIRTUAL_HOSTS\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/VIRTUAL_HOSTS/README\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/VIRTUAL_USERS\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/VIRTUAL_USERS/README\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/VIRTUAL_USERS/README.configuration\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/VIRTUAL_USERS/logins.txt\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/VIRTUAL_USERS/vsftpd.conf\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/VIRTUAL_USERS/vsftpd.pam\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/VIRTUAL_USERS_2\n/usr/share/doc/vsftpd-3.0.2/EXAMPLE/VIRTUAL_USERS_2/README\n/usr/share/doc/vsftpd-3.0.2/FAQ\n/usr/share/doc/vsftpd-3.0.2/INSTALL\n/usr/share/doc/vsftpd-3.0.2/LICENSE\n/usr/share/doc/vsftpd-3.0.2/README\n/usr/share/doc/vsftpd-3.0.2/README.security\n/usr/share/doc/vsftpd-3.0.2/REWARD\n/usr/share/doc/vsftpd-3.0.2/SECURITY\n/usr/share/doc/vsftpd-3.0.2/SECURITY/DESIGN\n/usr/share/doc/vsftpd-3.0.2/SECURITY/IMPLEMENTATION\n/usr/share/doc/vsftpd-3.0.2/SECURITY/OVERVIEW\n/usr/share/doc/vsftpd-3.0.2/SECURITY/TRUST\n/usr/share/doc/vsftpd-3.0.2/SIZE\n/usr/share/doc/vsftpd-3.0.2/SPEED\n/usr/share/doc/vsftpd-3.0.2/TODO\n/usr/share/doc/vsftpd-3.0.2/TUNING\n/usr/share/doc/vsftpd-3.0.2/vsftpd.xinetd\n/usr/share/man/man5/vsftpd.conf.5.gz\n/usr/share/man/man8/vsftpd.8.gz\n/var/ftp\n/var/ftp/pub\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br")])]),a("h2",{attrs:{id:"开放21端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开放21端口"}},[s._v("#")]),s._v(" 开放21端口")]),s._v(" "),a("p",[s._v("查看端口是否开放"),a("br"),s._v(" "),a("code",[s._v("firewall-cmd --query-port=6379/tcp")])]),s._v(" "),a("p",[s._v("开放21端口"),a("br"),s._v(" "),a("code",[s._v("firewall-cmd --add-port=21/tcp --permanent")])]),s._v(" "),a("p",[s._v("重启防火墙"),a("br"),s._v(" "),a("code",[s._v("systemctl restart firewalld")])]),s._v(" "),a("h2",{attrs:{id:"操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作"}},[s._v("#")]),s._v(" 操作")]),s._v(" "),a("p",[s._v("启动 FTP"),a("br"),s._v(" "),a("code",[s._v("systemctl start vsftpd")])]),s._v(" "),a("p",[s._v("重新启动 FTP"),a("br"),s._v(" "),a("code",[s._v("systemctl restart vsftpd")])]),s._v(" "),a("h2",{attrs:{id:"访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问"}},[s._v("#")]),s._v(" 访问")]),s._v(" "),a("p",[s._v("在不修改任何配置的情况下，默认是可以匿名访问的。但只能 "),a("strong",[s._v("下载")]),s._v("，不能 "),a("strong",[s._v("上传")]),s._v("。")]),s._v(" "),a("p",[s._v("在浏览器输入 ftp://ip:21 即可访问。（端口不写也可以，ftp 默认就是 21 端口）"),a("br"),s._v("\n可以看到一个 pub 目录，这个目录对应的是服务器上的 "),a("code",[s._v("/var/ftp/pub")]),s._v(" 目录")]),s._v(" "),a("p",[s._v("或者使用 FileZilla 这种 FTP 软件也可以访问。")]),s._v(" "),a("h2",{attrs:{id:"相关配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#相关配置"}},[s._v("#")]),s._v(" 相关配置")]),s._v(" "),a("p",[s._v("ftp 相关的配置文件在 "),a("code",[s._v("/etc/vsftpd")]),s._v(" 目录下")]),s._v(" "),a("h2",{attrs:{id:"问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[s._v("#")]),s._v(" 问题")]),s._v(" "),a("h3",{attrs:{id:"通过-systemctl-start-启动失败"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过-systemctl-start-启动失败"}},[s._v("#")]),s._v(" 通过 systemctl start 启动失败")]),s._v(" "),a("blockquote",[a("p",[s._v("查看端口 21 是否被占用，或者使用 ps -ef | grep ftp 看是否已经启动，已启动则杀掉后，通过 systemctl start vsftpd 启动。")])]),s._v(" "),a("h3",{attrs:{id:"_500-oops-failed-to-open-xferlog-log-file-var-log-xferlog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_500-oops-failed-to-open-xferlog-log-file-var-log-xferlog"}},[s._v("#")]),s._v(" 500 OOPS: failed to open xferlog log file:/var/log/xferlog")]),s._v(" "),a("blockquote",[a("p",[s._v("删除 /var/log/xferlog 文件，重新启动 vsftpd")])]),s._v(" "),a("h3",{attrs:{id:"操作超时"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作超时"}},[s._v("#")]),s._v(" 操作超时")]),s._v(" "),a("p",[s._v("打开 FTP 服务器上的文件夹时发生错误。请检查是否有权限访问该文件夹。"),a("br"),s._v("\n详细信息: 操作超时")]),s._v(" "),a("blockquote",[a("p",[s._v("重启下服务器好了")])])])}),[],!1,null,null,null);t.default=n.exports}}]);